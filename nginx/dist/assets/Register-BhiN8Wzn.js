import{h as E,E as w}from"./index-Bqsb1G-Q.js";import{a as g,v as k,e as B,D as L,F as i,U as s,M as t,ao as u,aE as N,E as c,L as V,Q as y,R as d,u as A}from"./vue-CXALzJrr.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P="/assets/logo-SDYLSbgd.png",S={class:"mian"},j={class:"register_box"},H={class:"register-form"},M={__name:"Register",setup(I){const _=N(),m=g(!1),p=g(!1),l=k({username:"",password:"",nickname:"",email:"",mobile:"",check_password:"",date_joined:"",is_superuser:!1,is_active:!0,is_staff:!1}),C=k({username:[{required:!0,message:"请输入登录名",trigger:"blur"},{max:20,message:"登录名不得超过20个字符",trigger:"blur"}],nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{max:20,message:"用户昵称不得超过20个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{max:128,message:"密码不得超过128个字符",trigger:"blur"}],check_password:[{required:!0,message:"请输入确认密码",trigger:"blur"},{max:128,message:"密码不得超过128个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{max:11,message:"手机号不得超过11个字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{max:50,message:"用户邮箱不得超过50个字符",trigger:"blur"}]});function U(n){n.validate(async function(e){if(!e)return;const r=await E.userApi.register(l);r.status===200?(w({title:"用户注册成功！",type:"success",duration:1500,message:`用户账号为：${l.username}`}),await _.push({name:"login"})):w({title:"用户注册失败！",type:"error",duration:1500,message:r.data.detail})})}const f=g();function R(n){n&&n.resetFields()}const q=B(()=>!(l.username!==""&&l.password!==""&&l.check_password!==""&&l.mobile!==""&&l.email!==""));return(n,e)=>{const r=u("el-input"),a=u("el-form-item"),b=u("el-icon"),v=u("el-checkbox"),x=u("el-button"),F=u("el-link"),$=u("el-form");return c(),L("div",S,[i("div",j,[e[18]||(e[18]=i("div",{class:"head"},[i("img",{src:P,alt:"logo",class:"logo"}),i("div",{class:"title"},"注册接口测试平台")],-1)),i("div",H,[s($,{model:l,rules:C,ref_key:"registerFormRef",ref:f},{default:t(()=>[s(a,{prop:"username",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"UserFilled",modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=o=>l.username=o),autocomplete:"off",placeholder:"请输入用户名",clearable:""},null,8,["modelValue"])]),_:1}),s(a,{prop:"password",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"Lock",type:m.value?"text":"password",modelValue:l.password,"onUpdate:modelValue":e[2]||(e[2]=o=>l.password=o),autocomplete:"off",placeholder:"请输入密码",clearable:""},{suffix:t(()=>[s(b,{onClick:e[1]||(e[1]=o=>m.value=!m.value),style:{cursor:"pointer"}},{default:t(()=>[(c(),V(y(m.value?"View":"Hide")))]),_:1})]),_:1},8,["type","modelValue"])]),_:1}),s(a,{prop:"check_password",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"Lock",type:p.value?"text":"password",modelValue:l.check_password,"onUpdate:modelValue":e[4]||(e[4]=o=>l.check_password=o),autocomplete:"off",placeholder:"再次确认密码",clearable:""},{suffix:t(()=>[s(b,{onClick:e[3]||(e[3]=o=>p.value=!p.value),style:{cursor:"pointer"}},{default:t(()=>[(c(),V(y(p.value?"View":"Hide")))]),_:1})]),_:1},8,["type","modelValue"])]),_:1}),s(a,{prop:"nickname",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"Avatar",modelValue:l.nickname,"onUpdate:modelValue":e[5]||(e[5]=o=>l.nickname=o),autocomplete:"off",placeholder:"请输入用户昵称",clearable:""},null,8,["modelValue"])]),_:1}),s(a,{prop:"mobile",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"Phone",modelValue:l.mobile,"onUpdate:modelValue":e[6]||(e[6]=o=>l.mobile=o),autocomplete:"off",placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])]),_:1}),s(a,{prop:"email",style:{width:"400px"}},{default:t(()=>[s(r,{"prefix-icon":"Message",modelValue:l.email,"onUpdate:modelValue":e[7]||(e[7]=o=>l.email=o),autocomplete:"off",placeholder:"请输入邮箱",clearable:""},null,8,["modelValue"])]),_:1}),s(a,null,{default:t(()=>[s(v,{modelValue:l.is_superuser,"onUpdate:modelValue":e[8]||(e[8]=o=>l.is_superuser=o)},{default:t(()=>[...e[13]||(e[13]=[d("是否管理员",-1)])]),_:1},8,["modelValue"])]),_:1}),s(a,null,{default:t(()=>[s(v,{modelValue:l.is_staff,"onUpdate:modelValue":e[9]||(e[9]=o=>l.is_staff=o)},{default:t(()=>[...e[14]||(e[14]=[d("后台权限",-1)])]),_:1},8,["modelValue"])]),_:1}),s(a,null,{default:t(()=>[s(x,{onClick:e[10]||(e[10]=o=>R(f.value)),icon:"CircleClose",style:{width:"193px"}},{default:t(()=>[...e[15]||(e[15]=[d("重 置",-1)])]),_:1}),s(x,{disabled:q.value,type:"primary",onClick:e[11]||(e[11]=o=>U(f.value)),style:{width:"193px"},icon:"CircleCheck"},{default:t(()=>[...e[16]||(e[16]=[d(" 注 册 ",-1)])]),_:1},8,["disabled"])]),_:1}),s(F,{type:"primary",onClick:e[12]||(e[12]=o=>A(_).push("/login"))},{default:t(()=>[...e[17]||(e[17]=[d("已有账号？点击登录",-1)])]),_:1})]),_:1},8,["model","rules"])])]),e[19]||(e[19]=i("div",{class:"login-footer"},[i("div",{class:"login-footer__content"},[i("span",null,"© 2024-2025 接口测试平台. All Rights Reserved."),i("a",{href:"https://gitee.com/pytests/api_django",class:"slide",target:"_blank"},"源码下载")])],-1))])}}},z=D(M,[["__scopeId","data-v-559cb7fe"]]);export{z as default};
