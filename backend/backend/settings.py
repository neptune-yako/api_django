"""
Django settings for backend project.

Generated by 'django-admin startproject' using Django 5.2.

For more information on this file, see
https://docs.djangoproject.com/en/5.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/5.2/ref/settings/
"""
import os
from pathlib import Path
from datetime import timedelta

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent

# Quick-start development settings - unsuitable for production
# See https://docs.djangoproject.com/en/5.2/howto/deployment/checklist/

# SECURITY WARNING: keep the secret key used in production secret!
SECRET_KEY = "django-insecure-nulqz=&y*06mbb%&&#@4_kh(+x^bmlb^gnmc65*owng(^1zacq"

# SECURITY WARNING: don't run with debug turned on in production!
# æ¨¡å¼é…ç½®
DEBUG = True

# è®¿é—®åŸŸåè®¾ç½®
ALLOWED_HOSTS = ['*']

# ã€æ–°å¢ã€‘ä¿¡ä»» ngrok çš„æ¥æºï¼Œé˜²æ­¢ç™»å½•æ—¶æŠ¥ CSRF é”™è¯¯
# æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»å¸¦ä¸Š https://
CSRF_TRUSTED_ORIGINS = ['https://*.ngrok-free.app']

# æ³¨å†Œappåº”ç”¨
# Application definition
INSTALLED_APPS = [
    # åç«¯é¡µé¢ä¼˜åŒ–æ’ä»¶
    'simpleui',
    # Djangoå†…ç½®æ¨¡å—
    "django.contrib.admin",
    "django.contrib.auth",
    "django.contrib.contenttypes",
    "django.contrib.sessions",
    "django.contrib.messages",
    "django.contrib.staticfiles",
    # è¿‡æ»¤æ’ä»¶
    'django_filters',
    # å®ç°å¯¹å‰ç«¯è·¨åŸŸè¯·æ±‚çš„æ”¯æŒ
    'corsheaders',
    # æ³¨å†Œåº”ç”¨æ’ä»¶
    'rest_framework',
    # JWTè®¤è¯
    'rest_framework_simplejwt',
    # å®šæ—¶ä»»åŠ¡
    'django_celery_beat',
    # æ¥å£æ–‡æ¡£æ’ä»¶
    'drf_spectacular',
    'drf_spectacular_sidecar',
    # å®šæ—¶ä»»åŠ¡ç›‘æ§æ’ä»¶
    'django_celery_results',
    # æ³¨å†Œå¹³å°åº”ç”¨
    "user.apps.UserConfig",
    "project.apps.ProjectConfig",
    "interface.apps.InterfaceConfig",
    "scene.apps.SceneConfig",
    "plan.apps.PlanConfig",
    "cronjob.apps.CronjobConfig",
    "bug.apps.BugConfig",
    'jenkins_integration.apps.JenkinsConfig',  # æ·»åŠ jenkinsåº”ç”¨
    'test_report',  # æµ‹è¯•æŠ¥å‘Šæ¨¡å—
]

# æ³¨å†Œä¸­é—´ä»¶
MIDDLEWARE = [
    # å®‰å…¨æ€§
    "django.middleware.security.SecurityMiddleware",
    # ä¼šè¯ç®¡ç†
    "django.contrib.sessions.middleware.SessionMiddleware",
    # åŠ ä¸Šcorsheadersçš„ä¸­é—´ä»¶ï¼Œå®ç°å¯¹è·¨åŸŸè¯·æ±‚çš„æ”¯æŒ
    "corsheaders.middleware.CorsMiddleware",
    # é€šç”¨çš„ä¸­é—´ä»¶
    "django.middleware.common.CommonMiddleware",
    # CSRFä¿æŠ¤
    # "django.middleware.csrf.CsrfViewMiddleware",
    # è®¤è¯
    "django.contrib.auth.middleware.AuthenticationMiddleware",
    # æ¶ˆæ¯
    "django.contrib.messages.middleware.MessageMiddleware",
    # X-Frame-Optionså¤´
    "django.middleware.clickjacking.XFrameOptionsMiddleware"
]

# æŒ‡å®šæ ¹è·¯ç”±ä½ç½®ï¼Œæ ¼å¼ï¼šROOT_URLCONF = "é¡¹ç›®å·¥ç¨‹åŒåç›®å½•.urls"
ROOT_URLCONF = "backend.urls"

# æ¨¡æ¿
TEMPLATES = [
    {
        "BACKEND": "django.template.backends.django.DjangoTemplates",
        "DIRS": [],
        "APP_DIRS": True,
        "OPTIONS": {
            "context_processors": [
                # å†…ç½®ä¸Šä¸‹æ–‡å¤„ç†å™¨
                "django.template.context_processors.debug",
                "django.template.context_processors.request",
                "django.contrib.auth.context_processors.auth",
                "django.contrib.messages.context_processors.messages",
            ],
        },
    },
]

# WSGIé…ç½®
WSGI_APPLICATION = "backend.wsgi.application"

# Database
# https://docs.djangoproject.com/en/5.2/ref/settings/#databases
# æ•°æ®åº“é…ç½®
if DEBUG:
    # DATABASES = {
    #     # å¼€å‘ç¯å¢ƒï¼Œé»˜è®¤ä½¿ç”¨mysqlæ•°æ®åº“
    #     'default': {
    #         'ENGINE': 'django.db.backends.mysql',
    #         'NAME': 'django',
    #         'USER': 'root',
    #         'PASSWORD': '123456py',
    #         'HOST': '192.168.27.132',
    #         'PORT': '3306',
    #     }
    # }
    # dockerç¯å¢ƒ
    # DATABASES = {
    # 'default': {
    #     'ENGINE': 'django.db.backends.mysql',
    #     'NAME': 'django',          # å¯¹åº” docker-compose ä¸­ MYSQL_DATABASE
    #     'USER': 'root',
    #     'PASSWORD': '123456py',    # å¯¹åº” docker-compose ä¸­ MYSQL_ROOT_PASSWORD
    #     'HOST': 'mysql',           # ã€å…³é”®ã€‘è¿™é‡Œæ”¹æˆå®¹å™¨æœåŠ¡å "mysql"
    #     'PORT': '3306',            # å®¹å™¨å†…éƒ¨ç«¯å£æ˜¯ 3306
    #     }
    # }
    # å¼€å‘ç¯å¢ƒ
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.mysql',
            'NAME': 'django',
            'USER': 'root',
            'PASSWORD': '123456',
            # ğŸ‘‡ ä¿®æ”¹ç‚¹ 1ï¼šå¿…é¡»ç”¨æœ¬æœºå›ç¯åœ°å€
            'HOST': '127.0.0.1', 
            # ğŸ‘‡ ä¿®æ”¹ç‚¹ 2ï¼šå¿…é¡»ç”¨ Docker æ˜ å°„å‡ºæ¥çš„å¤–éƒ¨ç«¯å£ (ä½ çš„é…ç½®æ˜¯ 9527)
            'PORT': '3306',      
        }
    }   
else:
    # DATABASES = {
    #     # çº¿ä¸Šç¯å¢ƒï¼Œé»˜è®¤ä½¿ç”¨mysqlæ•°æ®åº“
    #     'default': {
    #         'ENGINE': 'django.db.backends.mysql',
    #         'NAME': 'django',
    #         'USER': 'root',
    #         'PASSWORD': '123456py',
    #         'HOST': '192.168.27.132',
    #         'PORT': '3306',
    #     }
    # }
    # # dockerç¯å¢ƒ
    # DATABASES = {
    # 'default': {
    #     'ENGINE': 'django.db.backends.mysql',
    #     'NAME': 'django',          # å¯¹åº” docker-compose ä¸­ MYSQL_DATABASE
    #     'USER': 'root',
    #     'PASSWORD': '123456py',    # å¯¹åº” docker-compose ä¸­ MYSQL_ROOT_PASSWORD
    #     'HOST': 'mysql',           # ã€å…³é”®ã€‘è¿™é‡Œæ”¹æˆå®¹å™¨æœåŠ¡å "mysql"
    #     'PORT': '3306',            # å®¹å™¨å†…éƒ¨ç«¯å£æ˜¯ 3306
    #     }
    # }
        # å¼€å‘ç¯å¢ƒ
    DATABASES = {
        'default': {
            'ENGINE': 'django.db.backends.mysql',
            'NAME': 'django',
            'USER': 'root',
            'PASSWORD': '123456py',
            # ğŸ‘‡ ä¿®æ”¹ç‚¹ 1ï¼šå¿…é¡»ç”¨æœ¬æœºå›ç¯åœ°å€
            'HOST': '127.0.0.1', 
            # ğŸ‘‡ ä¿®æ”¹ç‚¹ 2ï¼šå¿…é¡»ç”¨ Docker æ˜ å°„å‡ºæ¥çš„å¤–éƒ¨ç«¯å£ (ä½ çš„é…ç½®æ˜¯ 9527)
            'PORT': '9527',      
        }
    }   

# Password validation
# https://docs.djangoproject.com/en/5.2/ref/settings/#auth-password-validators
# å¯†ç éªŒè¯é…ç½®
AUTH_PASSWORD_VALIDATORS = [
    # å†…ç½®éªŒè¯å™¨
    {
        "NAME": "django.contrib.auth.password_validation.UserAttributeSimilarityValidator",
    },
    {
        "NAME": "django.contrib.auth.password_validation.MinimumLengthValidator",
    },
    {
        "NAME": "django.contrib.auth.password_validation.CommonPasswordValidator",
    },
    {
        "NAME": "django.contrib.auth.password_validation.NumericPasswordValidator",
    },
]

# Internationalization
# https://docs.djangoproject.com/en/5.2/topics/i18n/
# å›½é™…åŒ–å’Œæœ¬åœ°åŒ–é…ç½®
LANGUAGE_CODE = 'zh-hans'
TIME_ZONE = 'Asia/Shanghai'
# æ˜¯å¦æ”¯æŒå›½é™…åŒ–
USE_I18N = True
# æ˜¯å¦æ”¯æŒæœ¬åœ°åŒ–
USE_L10N = True
# å…³é—­timezoneæ—¶åŒº
USE_TZ = False

# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/5.2/howto/static-files/
# é™æ€æ–‡ä»¶é…ç½®
STATIC_URL = "static/"
# åå°ç½‘é¡µå›¾æ ‡ï¼Œç”Ÿäº§ç¯å¢ƒç¦ç”¨
STATICFILES_DIRS = [os.path.join(BASE_DIR, 'static')]

# Default primary key field type
# https://docs.djangoproject.com/en/5.2/ref/settings/#default-auto-field
# é»˜è®¤ä¸»é”®å­—æ®µç±»å‹
DEFAULT_AUTO_FIELD = "django.db.models.BigAutoField"

# é¡¹ç›®æ—¥å¿—é…ç½®
LOGGING = {
    'version': 1,
    # ç¦ç”¨å·²ç»å­˜åœ¨çš„æ—¥å¿—å™¨
    'disable_existing_loggers': False,
    # æ—¥å¿—ä¿¡æ¯æ˜¾ç¤ºçš„æ ¼å¼
    'formatters': {
        'verbose': {
            'format': '%(levelname)s %(asctime)s %(module)s %(lineno)d %(message)s'
        },
        'simple': {
            'format': '%(levelname)s %(module)s %(lineno)d %(message)s'
        },
    },
    # å¯¹æ—¥å¿—è¿›è¡Œè¿‡æ»¤
    'filters': {
        # djangoåœ¨debugæ¨¡å¼ä¸‹æ‰è¾“å‡ºæ—¥å¿—
        'require_debug_true': {
            '()': 'django.utils.log.RequireDebugTrue',
        },
    },
    # æ—¥å¿—å¤„ç†æ–¹æ³•
    'handlers': {
        # å‘ç»ˆç«¯è¾“å‡ºæ—¥å¿—
        'console': {
            'level': 'INFO',
            'filters': ['require_debug_true'],
            'class': 'logging.StreamHandler',
            'formatter': 'simple'
        },
        # å‘æ–‡ä»¶ä¸­è¾“å‡ºæ—¥å¿—
        'file': {
            'level': 'INFO',
            'class': 'logging.handlers.RotatingFileHandler',
            # åç«¯æœåŠ¡æ—¥å¿—æ–‡ä»¶çš„ä½ç½®
            'filename': BASE_DIR / 'logs/py.log',
            'maxBytes': 30 * 1024 * 1024,
            'backupCount': 10,
            'formatter': 'verbose',
            'encoding': 'utf-8'
        },
        # å‘æ–‡ä»¶ä¸­è¾“å‡ºæ—¥å¿—
        'celery': {
            'level': 'INFO',
            'class': 'logging.handlers.RotatingFileHandler',
            # celeryæ—¥å¿—æ–‡ä»¶çš„ä½ç½®
            'filename': BASE_DIR / 'logs/celery.log',
            'maxBytes': 30 * 1024 * 1024,
            'backupCount': 10,
            'formatter': 'verbose',
            'encoding': 'utf-8'
        },
    },
    # æ—¥å¿—å™¨
    'loggers': {
        # å®šä¹‰åä¸ºdjangoçš„æ—¥å¿—å™¨
        'django': {
            # å¯ä»¥åŒæ—¶å‘ç»ˆç«¯ä¸æ–‡ä»¶ä¸­è¾“å‡ºæ—¥å¿—
            'handlers': ['console', 'file'],
            # æ˜¯å¦ç»§ç»­ä¼ é€’æ—¥å¿—ä¿¡æ¯
            'propagate': True,
            # æ—¥å¿—å™¨æ¥æ”¶çš„æœ€ä½æ—¥å¿—çº§åˆ«
            'level': 'INFO',
        },
        # å®šä¹‰äº†ä¸€ä¸ªåä¸ºceleryçš„æ—¥å¿—å™¨
        'celery': {
            'handlers': ['console', 'celery'],
            'propagate': True,
            'level': 'INFO',
        },
    }
}

# æŒ‡å®šæœ¬é¡¹ç›®ç”¨æˆ·æ¨¡å‹
AUTH_USER_MODEL = 'user.User'

# ä½¿ç”¨è‡ªå®šä¹‰çš„è®¤è¯ç±»è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç™»å½•æ—¶éªŒè¯ç”¨æˆ·ä¿¡æ¯
AUTHENTICATION_BACKENDS = [
    'user.authenticate.MyBackend'
]

REST_FRAMEWORK = {
    # é…ç½®jwté‰´æƒå’Œsessionè®¤è¯ç™»å½•æ–¹å¼
    'DEFAULT_AUTHENTICATION_CLASSES': (
        # JWTè®¤è¯
        'rest_framework_simplejwt.authentication.JWTAuthentication',
        # sessionè®¤è¯
        'rest_framework.authentication.SessionAuthentication',
        # Basicè®¤è¯
        'rest_framework.authentication.BasicAuthentication',
    ),
    # é…ç½®DRFä½¿ç”¨è¿‡æ»¤å™¨ï¼ˆé€šè¿‡django_filtersæ’ä»¶æ¥è¿›è¡Œè¿‡è™‘ï¼‰
    'DEFAULT_FILTER_BACKENDS': (
        'django_filters.rest_framework.DjangoFilterBackend',
    ),
    # æ¥å£æ–‡æ¡£
    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema'
}

# æ¥å£æ–‡æ¡£
SPECTACULAR_SETTINGS = {
    'TITLE': 'APIæ¥å£æ–‡æ¡£',
    'DESCRIPTION': 'æ¥å£æµ‹è¯•å¹³å°é¡¹ç›®åœ¨çº¿æ¥å£æ–‡æ¡£',
    'VERSION': 'V0.1.0',
    'SERVE_INCLUDE_SCHEMA': False,
    'SCHEMA_PATH_PREFIX': None,
    "SWAGGER_UI_DIST": "SIDECAR",
    "SWAGGER_UI_FAVICON_HREF": "/static/media/favicon.ico",
    "REDOC_DIST": "SIDECAR",
}

# é…ç½®token
SIMPLE_JWT = {
    # è®¿é—®ä»¤ç‰Œçš„æœ‰æ•ˆæ—¶é—´
    "ACCESS_TOKEN_LIFETIME": timedelta(days=1),
    # åˆ·æ–°ä»¤ç‰Œçš„æœ‰æ•ˆæ—¶é—´
    "REFRESH_TOKEN_LIFETIME": timedelta(days=15),
    # è‹¥ä¸ºTrueï¼Œåˆ™åˆ·æ–°åæ–°çš„refresh_tokenæœ‰æ›´æ–°çš„æœ‰æ•ˆæ—¶é—´
    "ROTATE_REFRESH_TOKENS": False,
    # è‹¥ä¸ºTrueï¼Œåˆ·æ–°åçš„tokenå°†æ·»åŠ åˆ°é»‘åå•ä¸­
    "BLACKLIST_AFTER_ROTATION": True,
    'ALGORITHM': 'HS256',
    'SIGNING_KEY': SECRET_KEY,
    'VERIFYING_KEY': None,
    'AUDIENCE': None,
    'ISSUER': None,
    'AUTH_HEADER_TYPES': ('Bearer',),
    'AUTH_HEADER_NAME': 'HTTP_AUTHORIZATION',
    # ä½¿ç”¨å”¯ä¸€ä¸å˜çš„æ•°æ®åº“å­—æ®µï¼Œå°†åŒ…å«åœ¨ç”Ÿæˆçš„ä»¤ç‰Œä¸­ä»¥æ ‡è¯†ç”¨æˆ·
    'USER_ID_FIELD': 'id',
    'USER_ID_CLAIM': 'user_id'
}

# celeryçš„é…ç½®
# å…³æ‰celeryçš„é»˜è®¤æ—¥å¿—
CELERY_WORKER_HIJACK_ROOT_LOGGER = False
CELERY_TASK_TRACK_STARTED = True
CELERY_TASK_TIME_LIMIT = 30 * 60
# ä»»åŠ¡é˜Ÿåˆ—é…ç½®ï¼Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨redisï¼Œæµ‹è¯•ç¯å¢ƒä½¿ç”¨å†…å­˜ï¼ŒæœåŠ¡å™¨192.168.27.132ï¼Œå¯†ç 123456py
# CELERY_BROKER_URL = 'redis://:123456py@192.168.27.132:6379/4'
# æ³¨æ„ï¼šredis æ˜¯æœåŠ¡åï¼Œ6379 æ˜¯å®¹å™¨å†…éƒ¨ç«¯å£
# dockerç¯å¢ƒ
# CELERY_BROKER_URL = 'redis://:123456py@redis:6379/4'
# ------
# å¼€å‘ç¯å¢ƒ
CELERY_BROKER_URL = 'redis://:123456py@127.0.0.1:16379/4'
# -------
# ä½¿ç”¨django-ormä½œä¸ºç»“æœå­˜å‚¨
CELERY_RESULT_BACKEND = 'django-db'
# ä½¿ç”¨django_celery_beatæ’ä»¶ç”¨æ¥åŠ¨æ€é…ç½®ä»»åŠ¡
CELERY_BEAT_SCHEDULER = 'django_celery_beat.schedulers:DatabaseScheduler'
# å®˜æ–¹ç”¨æ¥ä¿®å¤CELERY_ENABLE_UTC = Falseå’ŒUSE_TZ = Falseæ—¶é—´æ¯”è¾ƒé”™è¯¯çš„é—®é¢˜
DJANGO_CELERY_BEAT_TZ_AWARE = False
# å…³é—­celeryçš„æ—¶åŒºï¼ŒæŒ‡å®šæ—¶åŒº
CELERY_ENABLE_UTC = False
CELERY_TIMEZONE = TIME_ZONE
# é˜²æ­¢æ­»é”
CELERYD_FORCE_EXECV = True
CELERY_WORKER_PREFETCH_MULTIPLIER = 1

# å…è®¸æ‰€æœ‰ç”¨æˆ·è·¨åŸŸè®¿é—®
CORS_ALLOW_ALL_ORIGINS = True
# CORS_ALLOW_CREDENTIALSæŒ‡æ˜åœ¨è·¨åŸŸè®¿é—®ä¸­ï¼Œåç«¯æ˜¯å¦æ”¯æŒå¯¹cookieçš„æ“ä½œ
CORS_ALLOW_CREDENTIALS = True
# è¯·æ±‚æ–¹æ³•
CORS_ALLOW_METHODS = (
    'DELETE',
    'GET',
    'OPTIONS',
    'PATCH',
    'POST',
    'PUT',
    'VIEW',
)

# æŒ‡å®šä¸Šä¼ æ–‡ä»¶è·¯å¾„
MEDIA_ROOT = BASE_DIR / 'files'

# éšè—å³ä¾§simpleå¹¿å‘Šé“¾æ¥å’Œä½¿ç”¨åˆ†æ
SIMPLEUI_HOME_INFO = False
SIMPLEUI_ANALYSIS = False
# è®¾ç½®é»˜è®¤ä¸»é¢˜ï¼ŒæŒ‡å‘ä¸»é¢˜cssæ–‡ä»¶åï¼šä½¿ç”¨Admin Lteé£æ ¼
SIMPLEUI_DEFAULT_THEME = 'admin.lte.css'
# ç™»å½•é¡µç²’å­åŠ¨ç”»ï¼Œé»˜è®¤å¼€å¯
# SIMPLEUI_LOGIN_PARTICLES = False
# ç¦»çº¿æ¨¡å¼ï¼Œé»˜è®¤ä»æœ¬åœ°è¯»å–æ‰€æœ‰èµ„æº
SIMPLEUI_STATIC_OFFLINE = True
# å»æ‰é»˜è®¤Logoæˆ–æ¢æˆè‡ªå·±Logoé“¾æ¥
SIMPLEUI_LOGO = '/static/media/favicon.ico'

# è‡ªå®šä¹‰èœå•é…ç½®
SIMPLEUI_CONFIG = {
    # æ˜¯å¦ä½¿ç”¨ç³»ç»Ÿé»˜è®¤èœå•ï¼Œè‡ªå®šä¹‰èœå•æ—¶å»ºè®®å…³é—­
    'system_keep': False,
    # ç”¨äºèœå•æ’åºå’Œè¿‡æ»¤ï¼Œä¸å¡«æ­¤å­—æ®µä¸ºé»˜è®¤æ’åºå’Œå…¨éƒ¨æ˜¾ç¤ºã€‚ç©ºåˆ—è¡¨[]ä¸ºå…¨éƒ¨ä¸æ˜¾ç¤º
    'menu_display': ['ç”¨æˆ·ç®¡ç†', 'é¡¹ç›®ç®¡ç†', 'æ¥å£ç®¡ç†', 'æµ‹è¯•å¥—ä»¶', 'å®šæ—¶ä»»åŠ¡', 'æµ‹è¯•è®¡åˆ’', 'Bugç®¡ç†', 'æŒç»­é›†æˆ', 'ä»»åŠ¡ç›‘æ§'],
    # è®¾ç½®æ˜¯å¦å¼€å¯åŠ¨æ€èœå•ï¼Œé»˜è®¤ä¸ºFalseã€‚å¦‚æœå¼€å¯ï¼Œåˆ™ä¼šåœ¨æ¯æ¬¡ç”¨æˆ·ç™»é™†æ—¶åˆ·æ–°å±•ç¤ºèœå•å†…å®¹
    'dynamic': True,
    'menus': [
        {
            'app': 'user',
            'name': 'ç”¨æˆ·ç®¡ç†',
            'icon': 'fas fa-user-shield',
            'models': [{
                'name': 'ç”¨æˆ·åˆ—è¡¨',
                'icon': 'fa fa-user',
                'url': 'user/user/'
            },
                {
                    'name': 'è§’è‰²ç®¡ç†',
                    'icon': 'fas fa-users-cog',
                    'url': 'user/role/'
                }
            ]
        },
        {
            'app': 'project',
            'name': 'é¡¹ç›®ç®¡ç†',
            'icon': 'fas fa-archive',
            'models': [{
                'name': 'é¡¹ç›®åˆ—è¡¨',
                'url': 'project/project/',
            },
                {
                    'name': 'æ–‡ä»¶åˆ—è¡¨',
                    'url': 'project/file/',
                    'icon': 'fa fa-upload',
                },
                {
                    'name': 'æµ‹è¯•ç¯å¢ƒ',
                    'url': 'project/environment/',
                    'icon': 'fa fa-database',
                },
            ]
        },
        {
            'app': 'interface',
            'name': 'æ¥å£ç®¡ç†',
            'icon': 'fas fa-plug',
            'models': [{
                'name': 'æ¥å£åˆ—è¡¨',
                'url': 'interface/interface/'
            },
                {
                    'name': 'ç”¨ä¾‹åˆ—è¡¨',
                    'url': 'interface/case/',
                },
            ]
        },
        {
            'app': 'scene',
            'name': 'æµ‹è¯•å¥—ä»¶',
            'icon': 'fas fa-sitemap',
            'models': [{
                'name': 'æµ‹è¯•å¥—ä»¶',
                'url': 'scene/scene/'
            },
                {
                    'name': 'æµ‹è¯•æ­¥éª¤',
                    'url': 'scene/step/',
                    'icon': 'fas fa-signal'
                },
            ]
        },
        {
            'app': 'cronjob',
            'name': 'å®šæ—¶ä»»åŠ¡',
            'icon': 'fa fa-th-list',
            'models': [{
                'name': 'ä»»åŠ¡åˆ—è¡¨',
                'url': 'cronjob/cronjob/',
                'icon': 'fa fa-hourglass'
            },
            ]
        },
        {
            'app': 'plan',
            'name': 'æµ‹è¯•è®¡åˆ’',
            'icon': 'fa fa-calendar',
            'models': [{
                'name': 'æµ‹è¯•è®¡åˆ’',
                'url': 'plan/plan/'
            },
                {
                    'name': 'è¿è¡Œè®°å½•',
                    'url': 'plan/record/',
                    'icon': 'fas fa-edit'
                },
                {
                    'name': 'æµ‹è¯•æŠ¥å‘Š',
                    'url': 'plan/report/',
                    'icon': 'fas fa-calculator'
                },
            ]
        },
        {
            'app': 'bug',
            'name': 'Bugç®¡ç†',
            'icon': 'fa fa-bug',
            'models': [{
                'name': 'Bugåˆ—è¡¨',
                'url': 'bug/bug/'
            },
                {
                    'name': 'Bugè®°å½•',
                    'url': 'bug/handle/',
                    'icon': 'fa fa-book'
                },
            ]
        },
        {
            'app': 'jenkins_integration',
            'name': 'æŒç»­é›†æˆ',
            'icon': 'fab fa-jenkins',
            'models': [{
                'name': 'æœåŠ¡å™¨é…ç½®',
                'url': 'jenkins_integration/jenkinsserver/',
                'icon': 'fas fa-server'
            },
                {
                    'name': 'èŠ‚ç‚¹ç®¡ç†',
                    'url': 'jenkins_integration/jenkinsnode/',
                    'icon': 'fas fa-network-wired'
                },
                {
                    'name': 'ä»»åŠ¡ç®¡ç†',
                    'url': 'jenkins_integration/jenkinsjob/',
                    'icon': 'fas fa-tasks'
                },
                {
                    'name': 'AllureæŠ¥å‘Š',
                    'url': 'jenkins_integration/allurereport/',
                    'icon': 'fas fa-chart-line'
                },
                {
                    'name': 'æµ‹è¯•ç”¨ä¾‹',
                    'url': 'jenkins_integration/alluretestcase/',
                    'icon': 'fas fa-vial'
                }
            ]
        },
        {
            'app': 'monitor',
            'name': 'ä»»åŠ¡ç›‘æ§',
            'icon': 'fa fa-binoculars',
            'models': [{
                'name': 'å°ç»„ç›‘æ§',
                'url': 'django_celery_results/groupresult/',
                'icon': 'fa fa-users'
            },
                {
                    'name': 'ä»»åŠ¡ç›‘æ§',
                    'url': 'django_celery_results/taskresult/',
                    'icon': 'fa fa-archive'
                },
            ]
        }
    ]

}

# æ‰“åŒ…åç«¯é™æ€æ–‡ä»¶ï¼Œç”Ÿäº§ç¯å¢ƒå¯ç”¨
# STATIC_ROOT = BASE_DIR / 'static'

# # Jenkinsé…ç½®
# JENKINS_URL = 'http://mg.morry.online/'
# JENKINS_USERNAME = 'akko'
# JENKINS_TOKEN = '11c0386c574f181a57a08776b21bb6ea06'

# ==================== æœ¬åœ°é…ç½®å¯¼å…¥ ====================
# å¯¼å…¥æœ¬åœ°é…ç½®æ–‡ä»¶ settings_local.py (å¦‚æœå­˜åœ¨)
# settings_local.py ç”¨äºè¦†ç›–ä¸Šé¢çš„é»˜è®¤é…ç½®ï¼ˆå¦‚æ•°æ®åº“ç«¯å£ã€Jenkins é…ç½®ç­‰ï¼‰
# æ­¤æ–‡ä»¶å·²åŠ å…¥ .gitignoreï¼Œä¸ä¼šä¸Šä¼ åˆ° Git
try:
    from .settings_local import *
    print("âœ“ å·²åŠ è½½æœ¬åœ°é…ç½®æ–‡ä»¶: settings_local.py")
except ImportError:
    print("â„¹ æœªæ‰¾åˆ°æœ¬åœ°é…ç½®æ–‡ä»¶ settings_local.pyï¼Œä½¿ç”¨é»˜è®¤é…ç½®")
    pass
