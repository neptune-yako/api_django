# åŸºäºç°æœ‰æ•°æ®æ¨¡å‹çš„ Report è¯¦æƒ…é¡µå®ç°æ–¹æ¡ˆ

## ä¸€ã€ç°æœ‰æ•°æ®æ¨¡å‹èƒ½åŠ›åˆ†æ

### 1.1 å¯ç”¨æ•°æ®è¡¨åŠå­—æ®µæ˜ å°„

#### TestExecution (æµ‹è¯•æ‰§è¡Œæ€»è§ˆ)
**å¯å®ç°åŠŸèƒ½**ï¼šé¡¶éƒ¨æ¦‚è§ˆå¡ç‰‡
```python
- report_title          â†’ æŠ¥å‘Šæ ‡é¢˜
- total_cases          â†’ æ€»ç”¨ä¾‹æ•°
- passed/failed/skipped/broken/unknown_cases â†’ çŠ¶æ€åˆ†å¸ƒ
- pass_rate            â†’ é€šè¿‡ç‡
- execution_time       â†’ æ‰§è¡Œæ—¶é•¿
- start_time/end_time  â†’ æ—¶é—´èŒƒå›´
- status               â†’ æ•´ä½“çŠ¶æ€
- job (ForeignKey)     â†’ å…³è”çš„ Jenkins Job
```

#### TestSuite (æµ‹è¯•å¥—ä»¶æ±‡æ€»)
**å¯å®ç°åŠŸèƒ½**ï¼šå¥—ä»¶åˆ—è¡¨ + å¥—ä»¶çº§ç»Ÿè®¡
```python
- suite_name           â†’ å¥—ä»¶åç§°
- total_cases          â†’ è¯¥å¥—ä»¶çš„ç”¨ä¾‹æ€»æ•°
- passed/failed/skipped/broken_cases â†’ çŠ¶æ€ç»Ÿè®¡
- pass_rate            â†’ å¥—ä»¶é€šè¿‡ç‡
- duration_seconds     â†’ å¥—ä»¶æ‰§è¡Œè€—æ—¶
```

#### TestSuiteDetail (ç”¨ä¾‹è¯¦æƒ…) â­ æ ¸å¿ƒè¡¨
**å¯å®ç°åŠŸèƒ½**ï¼šç”¨ä¾‹åˆ—è¡¨ + åŸºç¡€è¯¦æƒ…é¡µ
```python
- name                 â†’ ç”¨ä¾‹åç§°
- description          â†’ ç”¨ä¾‹æè¿°
- parent_suite/suite/sub_suite â†’ ä¸‰çº§å±‚çº§ç»“æ„
- test_class           â†’ æµ‹è¯•ç±»å
- test_method          â†’ æµ‹è¯•æ–¹æ³•å
- status               â†’ ç”¨ä¾‹çŠ¶æ€ (passed/failed/skipped/broken/unknown)
- start_time/stop_time â†’ æ‰§è¡Œæ—¶é—´
- duration_in_ms       â†’ è€—æ—¶(æ¯«ç§’)
```

#### Category (ç¼ºé™·åˆ†ç±»)
**å¯å®ç°åŠŸèƒ½**ï¼šç¼ºé™·åˆ†ç±»ç»Ÿè®¡
```python
- category_name        â†’ åˆ†ç±»åç§°
- count                â†’ è¯¥åˆ†ç±»ä¸‹çš„ç”¨ä¾‹æ•°
- severity             â†’ ä¸¥é‡ç¨‹åº¦ (critical/major/minor/trivial)
- description          â†’ åˆ†ç±»æè¿°
```

#### FeatureScenario (ç‰¹æ€§åœºæ™¯)
**å¯å®ç°åŠŸèƒ½**ï¼šBDD åœºæ™¯ç»Ÿè®¡
```python
- scenario_name        â†’ åœºæ™¯åç§°
- total/passed/failed  â†’ åœºæ™¯ç»Ÿè®¡
- pass_rate            â†’ åœºæ™¯é€šè¿‡ç‡
```

### 1.2 æ•°æ®æ¨¡å‹çš„å±€é™æ€§ âš ï¸

**ç¼ºå¤±çš„å…³é”®æ•°æ®**ï¼š
1. âŒ **æµ‹è¯•æ­¥éª¤ (Steps)**ï¼š`TestSuiteDetail` æ²¡æœ‰ `steps` å­—æ®µ
2. âŒ **é™„ä»¶ (Attachments)**ï¼šæ²¡æœ‰æˆªå›¾ã€æ—¥å¿—ã€è§†é¢‘çš„å­˜å‚¨å­—æ®µ
3. âŒ **å‚æ•°åŒ–æ•°æ® (Parameters)**ï¼šæ²¡æœ‰å‚æ•°è¡¨
4. âŒ **å†å²è®°å½• (History)**ï¼šæ²¡æœ‰è·¨æ‰§è¡Œçš„å†å²å¯¹æ¯”è¡¨
5. âŒ **é”™è¯¯å †æ ˆ (Stacktrace)**ï¼š`description` å­—æ®µå¯èƒ½åŒ…å«ï¼Œä½†ä¸æ˜¯ç»“æ„åŒ–æ•°æ®

**ç»“è®º**ï¼šå½“å‰æ¨¡å‹æ”¯æŒ **"ç»Ÿè®¡å‹æŠ¥å‘Š"**ï¼Œä½†ä¸æ”¯æŒ **"è°ƒè¯•å‹æŠ¥å‘Š"**ã€‚

---

## äºŒã€åŸºäºç°æœ‰æ¨¡å‹çš„å¯å®ç°åŠŸèƒ½æ¸…å•

### 2.1 âœ… å¯ä»¥ç«‹å³å®ç°çš„åŠŸèƒ½ (P0)

#### åŠŸèƒ½1ï¼šæ¦‚è§ˆä»ªè¡¨ç›˜ (Overview Dashboard)
**æ•°æ®æ¥æº**ï¼š`TestExecution`
**UIç»„ä»¶**ï¼š
- é¡¶éƒ¨ç»Ÿè®¡å¡ç‰‡ï¼ˆæ€»æ•°ã€é€šè¿‡ã€å¤±è´¥ã€è·³è¿‡ã€ä¸­æ–­ã€æœªçŸ¥ï¼‰
- é€šè¿‡ç‡å¤§å¡ç‰‡ï¼ˆå¸¦é¢œè‰²åŒºåˆ†ï¼šç»¿/é»„/çº¢ï¼‰
- æ‰§è¡Œæ—¶é—´ä¿¡æ¯ï¼ˆå¼€å§‹ã€ç»“æŸã€è€—æ—¶ï¼‰
- çŠ¶æ€å¾½ç« ï¼ˆSuccess/Failed/Runningï¼‰

**å®ç°éš¾åº¦**ï¼šâ­ (å·²æœ‰ 70% å®ç°)

#### åŠŸèƒ½2ï¼šå¥—ä»¶æ ‘å½¢åˆ—è¡¨ (Suite Tree)
**æ•°æ®æ¥æº**ï¼š`TestSuite` + `TestSuiteDetail`
**UIç»„ä»¶**ï¼š
- å·¦ä¾§ï¼šå¥—ä»¶åˆ—è¡¨ï¼ˆå¯å±•å¼€ï¼‰
- ç‚¹å‡»å¥—ä»¶ â†’ å³ä¾§æ˜¾ç¤ºè¯¥å¥—ä»¶ä¸‹çš„ç”¨ä¾‹åˆ—è¡¨
- æ¯ä¸ªå¥—ä»¶æ˜¾ç¤ºï¼šåç§°ã€é€šè¿‡ç‡ã€è€—æ—¶ã€çŠ¶æ€å›¾æ ‡

**å®ç°éš¾åº¦**ï¼šâ­â­ (éœ€è¦æ–°å¢æ ‘å½¢ç»„ä»¶)

#### åŠŸèƒ½3ï¼šç”¨ä¾‹è¯¦æƒ…æŠ½å±‰ (Case Detail Drawer)
**æ•°æ®æ¥æº**ï¼š`TestSuiteDetail`
**å¯å±•ç¤ºå†…å®¹**ï¼š
- ç”¨ä¾‹åç§° (`name`)
- ç”¨ä¾‹æè¿° (`description`)
- æµ‹è¯•ç±»/æ–¹æ³• (`test_class`, `test_method`)
- çŠ¶æ€ (`status`)
- æ‰§è¡Œæ—¶é—´ (`start_time`, `stop_time`)
- è€—æ—¶ (`duration_in_ms`)
- å±‚çº§è·¯å¾„ (`parent_suite` â†’ `suite` â†’ `sub_suite`)

**å®ç°éš¾åº¦**ï¼šâ­â­ (ç®€å•çš„è¯¦æƒ…å±•ç¤º)

#### åŠŸèƒ½4ï¼šç¼ºé™·åˆ†ç±»è§†å›¾ (Categories View)
**æ•°æ®æ¥æº**ï¼š`Category`
**UIç»„ä»¶**ï¼š
- åˆ†ç±»åˆ—è¡¨ï¼ˆæŒ‰ä¸¥é‡ç¨‹åº¦æ’åºï¼‰
- æ¯ä¸ªåˆ†ç±»æ˜¾ç¤ºï¼šåç§°ã€æ•°é‡ã€ä¸¥é‡ç¨‹åº¦æ ‡ç­¾ã€æè¿°

**å®ç°éš¾åº¦**ï¼šâ­ (å·²æœ‰ 50% å®ç°)

#### åŠŸèƒ½5ï¼šç‰¹æ€§åœºæ™¯è§†å›¾ (Scenarios View)
**æ•°æ®æ¥æº**ï¼š`FeatureScenario`
**UIç»„ä»¶**ï¼š
- åœºæ™¯åˆ—è¡¨
- æ¯ä¸ªåœºæ™¯æ˜¾ç¤ºï¼šåç§°ã€æ€»æ•°ã€é€šè¿‡/å¤±è´¥æ•°ã€é€šè¿‡ç‡

**å®ç°éš¾åº¦**ï¼šâ­ (å·²æœ‰ 40% å®ç°)

#### åŠŸèƒ½6ï¼šåŸºç¡€å›¾è¡¨ (Basic Charts)
**æ•°æ®æ¥æº**ï¼š`TestExecution` + `TestSuite`
**å¯å®ç°å›¾è¡¨**ï¼š
- çŠ¶æ€åˆ†å¸ƒé¥¼å›¾ (passed/failed/skipped/broken)
- å¥—ä»¶é€šè¿‡ç‡æŸ±çŠ¶å›¾
- æ‰§è¡Œæ—¶é—´åˆ†å¸ƒå›¾

**å®ç°éš¾åº¦**ï¼šâ­â­ (éœ€è¦é›†æˆ ECharts)

### 2.2 âš ï¸ æœ‰é™å®ç°çš„åŠŸèƒ½ (P1)

#### åŠŸèƒ½7ï¼šç®€åŒ–ç‰ˆç”¨ä¾‹ç­›é€‰
**æ•°æ®æ¥æº**ï¼š`TestSuiteDetail.status`
**å¯å®ç°**ï¼š
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆåªçœ‹å¤±è´¥/é€šè¿‡/è·³è¿‡ï¼‰
- æŒ‰å¥—ä»¶åç§°æœç´¢

**å±€é™**ï¼šæ— æ³•æŒ‰æ ‡ç­¾ã€ä¸¥é‡ç¨‹åº¦ç­‰é«˜çº§æ¡ä»¶ç­›é€‰

**å®ç°éš¾åº¦**ï¼šâ­â­

#### åŠŸèƒ½8ï¼šå±‚çº§å¯¼èˆª (Hierarchy Navigation)
**æ•°æ®æ¥æº**ï¼š`TestSuiteDetail` çš„ `parent_suite`, `suite`, `sub_suite`
**å¯å®ç°**ï¼š
- ä¸‰çº§æ ‘å½¢ç»“æ„ï¼ˆParent Suite â†’ Suite â†’ Test Caseï¼‰
- é¢åŒ…å±‘å¯¼èˆª

**å±€é™**ï¼šæ²¡æœ‰ Package çº§åˆ«çš„ç»“æ„

**å®ç°éš¾åº¦**ï¼šâ­â­â­

### 2.3 âŒ æ— æ³•å®ç°çš„åŠŸèƒ½ (éœ€è¦æ‰©å±•æ¨¡å‹)

| åŠŸèƒ½ | ç¼ºå¤±æ•°æ® | è§£å†³æ–¹æ¡ˆ |
|------|---------|---------|
| æµ‹è¯•æ­¥éª¤å±•ç¤º | `steps` å­—æ®µ | éœ€è¦æ–°å¢ `TestStep` è¡¨æˆ–åœ¨ `description` ä¸­è§£æ |
| é™„ä»¶é¢„è§ˆ | `attachments` å­—æ®µ | éœ€è¦æ–°å¢ `Attachment` è¡¨ + æ–‡ä»¶å­˜å‚¨ |
| é”™è¯¯å †æ ˆ | ç»“æ„åŒ–çš„ `error` å­—æ®µ | éœ€è¦åœ¨ `TestSuiteDetail` ä¸­æ–°å¢ `error_message`, `stacktrace` |
| å‚æ•°åŒ–æ•°æ® | `parameters` å­—æ®µ | éœ€è¦æ–°å¢ `TestParameter` è¡¨ |
| å†å²è¶‹åŠ¿ | è·¨æ‰§è¡Œçš„å…³è” | éœ€è¦æŒ‰ `test_method` èšåˆå¤šæ¬¡æ‰§è¡Œè®°å½• |
| é‡è¯•è®°å½• | `retries` å­—æ®µ | éœ€è¦æ–°å¢ `retry_count`, `retry_history` |

---

## ä¸‰ã€æ¨èå®ç°è·¯çº¿å›¾

### Phase 1: åŸºç¡€å¢å¼º (1-2å‘¨)
**ç›®æ ‡**ï¼šè®©å½“å‰é¡µé¢ä»"è¡¨æ ¼"å‡çº§ä¸º"å¯äº¤äº’çš„æŠ¥å‘Š"

**ä»»åŠ¡æ¸…å•**ï¼š
1. âœ… æ”¹é€ å¥—ä»¶åˆ—è¡¨ä¸ºæ ‘å½¢ç»“æ„ï¼ˆå¯å±•å¼€/æŠ˜å ï¼‰
2. âœ… ç‚¹å‡»å¥—ä»¶æ˜¾ç¤ºè¯¥å¥—ä»¶ä¸‹çš„ç”¨ä¾‹åˆ—è¡¨
3. âœ… ç‚¹å‡»ç”¨ä¾‹å¼¹å‡ºè¯¦æƒ…æŠ½å±‰ï¼ˆæ˜¾ç¤ºç°æœ‰å­—æ®µï¼‰
4. âœ… æ·»åŠ åŸºç¡€å›¾è¡¨ï¼ˆé¥¼å›¾ã€æŸ±çŠ¶å›¾ï¼‰
5. âœ… æ·»åŠ çŠ¶æ€ç­›é€‰å™¨ï¼ˆæŒ‰ passed/failed/skipped ç­›é€‰ï¼‰

**é¢„æœŸæ•ˆæœ**ï¼š
- ç”¨æˆ·å¯ä»¥ä»å¥—ä»¶ä¸‹é’»åˆ°ç”¨ä¾‹
- ç”¨æˆ·å¯ä»¥çœ‹åˆ°æ¯ä¸ªç”¨ä¾‹çš„åŸºæœ¬ä¿¡æ¯
- ç”¨æˆ·å¯ä»¥é€šè¿‡å›¾è¡¨å¿«é€Ÿäº†è§£æ•´ä½“æƒ…å†µ



## ä¸éœ€è¦å®ç°çš„åŠŸèƒ½
### Phase 2: æ•°æ®æ¨¡å‹æ‰©å±• (2-3å‘¨)
**ç›®æ ‡**ï¼šè¡¥å……è°ƒè¯•æ‰€éœ€çš„å…³é”®æ•°æ®

**ä»»åŠ¡æ¸…å•**ï¼š
1. ğŸ”§ åœ¨ `TestSuiteDetail` ä¸­æ–°å¢å­—æ®µï¼š
   - `error_message` (TextField): é”™è¯¯ä¿¡æ¯
   - `stacktrace` (TextField): å †æ ˆè·Ÿè¸ª
2. ğŸ”§ æ–°å¢ `Attachment` è¡¨ï¼š
   ```python
   class Attachment(models.Model):
       test_case = ForeignKey(TestSuiteDetail)
       file_type = CharField  # image/video/log/json
       file_path = CharField  # æ–‡ä»¶è·¯å¾„æˆ–URL
       file_name = CharField
       file_size = IntegerField
   ```
3. ğŸ”§ æ–°å¢ `TestStep` è¡¨ï¼ˆå¯é€‰ï¼‰ï¼š
   ```python
   class TestStep(models.Model):
       test_case = ForeignKey(TestSuiteDetail)
       step_name = CharField
       step_status = CharField
       step_duration = IntegerField
       step_order = IntegerField
       error_message = TextField
   ```

**é¢„æœŸæ•ˆæœ**ï¼š
- ç”¨æˆ·å¯ä»¥çœ‹åˆ°å¤±è´¥ç”¨ä¾‹çš„é”™è¯¯å †æ ˆ
- ç”¨æˆ·å¯ä»¥æŸ¥çœ‹æˆªå›¾å’Œæ—¥å¿—é™„ä»¶

### Phase 3: é«˜çº§åŠŸèƒ½ (3-4å‘¨)
**ç›®æ ‡**ï¼šæ¥è¿‘ Allure çš„å®Œæ•´ä½“éªŒ

**ä»»åŠ¡æ¸…å•**ï¼š
1. ğŸ“Š å†å²è¶‹åŠ¿å›¾ï¼ˆéœ€è¦èšåˆå¤šæ¬¡æ‰§è¡Œçš„æ•°æ®ï¼‰
2. ğŸ” é«˜çº§æœç´¢ï¼ˆæ”¯æŒå¤šæ¡ä»¶ç»„åˆï¼‰
3. ğŸ·ï¸ æ ‡ç­¾ç³»ç»Ÿï¼ˆéœ€è¦æ–°å¢ `Label` è¡¨ï¼‰
4. â±ï¸ æ—¶é—´çº¿è§†å›¾ï¼ˆç”˜ç‰¹å›¾å±•ç¤ºå¹¶å‘æ‰§è¡Œï¼‰

---

## å››ã€å½“å‰é˜¶æ®µçš„ UI è®¾è®¡æ–¹æ¡ˆ

### 4.1 é¡µé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† è¿”å›]  è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š #20241227-001                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¦‚è§ˆåŒº (Overview)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ æ€»æ•°   â”‚ é€šè¿‡   â”‚ å¤±è´¥   â”‚ é€šè¿‡ç‡ â”‚                  â”‚
â”‚  â”‚  100   â”‚  85    â”‚  15    â”‚  85%   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  å¼€å§‹: 2024-12-27 10:00  ç»“æŸ: 10:15  è€—æ—¶: 15min       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tab åˆ‡æ¢                                                â”‚
â”‚  [å¥—ä»¶] [åˆ†ç±»] [åœºæ™¯] [å›¾è¡¨]                             â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¥—ä»¶åˆ—è¡¨        â”‚ ç”¨ä¾‹åˆ—è¡¨                        â”‚  â”‚
â”‚  â”‚                 â”‚                                 â”‚  â”‚
â”‚  â”‚ â–¼ LoginSuite    â”‚ âœ“ test_login_success  1.2s     â”‚  â”‚
â”‚  â”‚   â”œâ”€ 10 cases   â”‚ âœ— test_login_fail     0.8s     â”‚  â”‚
â”‚  â”‚   â”œâ”€ 8 passed   â”‚ âœ“ test_logout         0.5s     â”‚  â”‚
â”‚  â”‚   â””â”€ 2 failed   â”‚ ...                            â”‚  â”‚
â”‚  â”‚                 â”‚                                 â”‚  â”‚
â”‚  â”‚ â–¶ PaymentSuite  â”‚ [ç‚¹å‡»ç”¨ä¾‹æŸ¥çœ‹è¯¦æƒ…]              â”‚  â”‚
â”‚  â”‚   â”œâ”€ 20 cases   â”‚                                 â”‚  â”‚
â”‚  â”‚   â””â”€ 20 passed  â”‚                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ç”¨ä¾‹è¯¦æƒ…æŠ½å±‰ (Drawer)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  test_login_fail                âœ—   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºæœ¬ä¿¡æ¯                            â”‚
â”‚  â€¢ æµ‹è¯•ç±»: TestLogin                â”‚
â”‚  â€¢ æµ‹è¯•æ–¹æ³•: test_login_fail        â”‚
â”‚  â€¢ çŠ¶æ€: Failed                     â”‚
â”‚  â€¢ è€—æ—¶: 0.8s                       â”‚
â”‚  â€¢ å¼€å§‹: 10:05:23                   â”‚
â”‚  â€¢ ç»“æŸ: 10:05:24                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æè¿°                                â”‚
â”‚  éªŒè¯ä½¿ç”¨é”™è¯¯å¯†ç ç™»å½•æ—¶ç³»ç»Ÿçš„å“åº”    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å±‚çº§è·¯å¾„                            â”‚
â”‚  LoginSuite â†’ UserAuth â†’ LoginTests â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€æ€»ç»“

### ç°æœ‰æ¨¡å‹å¯ä»¥æ”¯æŒçš„æ ¸å¿ƒä»·å€¼
1. âœ… **ç»Ÿè®¡åˆ†æ**ï¼šæ•´ä½“é€šè¿‡ç‡ã€å¥—ä»¶çº§åˆ«çš„å¥åº·åº¦
2. âœ… **å¿«é€Ÿå®šä½**ï¼šé€šè¿‡æ ‘å½¢ç»“æ„æ‰¾åˆ°å¤±è´¥çš„å¥—ä»¶å’Œç”¨ä¾‹
3. âœ… **åŸºç¡€è°ƒè¯•**ï¼šæŸ¥çœ‹ç”¨ä¾‹åç§°ã€ç±»/æ–¹æ³•ã€æ‰§è¡Œæ—¶é—´

### ç°æœ‰æ¨¡å‹çš„ä¸è¶³
1. âŒ **æ·±åº¦è°ƒè¯•**ï¼šæ— æ³•æŸ¥çœ‹è¯¦ç»†çš„é”™è¯¯å †æ ˆå’Œæ­¥éª¤
2. âŒ **è¯æ®é“¾**ï¼šæ— æ³•æŸ¥çœ‹æˆªå›¾ã€æ—¥å¿—ç­‰é™„ä»¶
3. âŒ **è¶‹åŠ¿åˆ†æ**ï¼šæ— æ³•å¯¹æ¯”å†å²æ‰§è¡Œæƒ…å†µ


---

## å…­ã€å‰ç«¯å®ç°ä¼˜å…ˆçº§ï¼ˆåŸºäºç°æœ‰ Modelï¼‰

### 6.1 ç°çŠ¶è¯„ä¼°

#### âœ… å·²å®Œæˆï¼ˆå½“å‰ ReportDetail.vueï¼‰
1. **æ¦‚è§ˆä»ªè¡¨ç›˜** - 70% å®Œæˆ
   - âœ… é¡¶éƒ¨ç»Ÿè®¡å¡ç‰‡ï¼ˆæ€»æ•°ã€é€šè¿‡ã€å¤±è´¥ã€é€šè¿‡ç‡ï¼‰
   - âœ… æ‰§è¡Œæ—¶é—´ä¿¡æ¯ï¼ˆå¼€å§‹ã€ç»“æŸã€è€—æ—¶ï¼‰
   - âœ… çŠ¶æ€å¾½ç« 
   - âš ï¸ ç¼ºå°‘ï¼šè·³è¿‡ã€ä¸­æ–­ã€æœªçŸ¥ç”¨ä¾‹çš„ç»Ÿè®¡å±•ç¤º

2. **åŸºç¡€è¡¨æ ¼å±•ç¤º** - 100% å®Œæˆ
   - âœ… å¥—ä»¶åˆ—è¡¨ï¼ˆå¹³é“ºè¡¨æ ¼ï¼‰
   - âœ… ç¼ºé™·åˆ†ç±»åˆ—è¡¨
   - âœ… ç‰¹æ€§åœºæ™¯åˆ—è¡¨

#### âŒ æœªå®Œæˆï¼ˆPhase 1 æ ¸å¿ƒåŠŸèƒ½ï¼‰
1. **å¥—ä»¶æ ‘å½¢ç»“æ„** - 0% å®Œæˆ
2. **ç”¨ä¾‹åˆ—è¡¨ä¸‹é’»** - 0% å®Œæˆ
3. **ç”¨ä¾‹è¯¦æƒ…æŠ½å±‰** - 0% å®Œæˆ
4. **åŸºç¡€å›¾è¡¨** - 0% å®Œæˆ
5. **çŠ¶æ€ç­›é€‰å™¨** - 0% å®Œæˆ

---

### 6.2 ğŸ¯ å®ç°ä¼˜å…ˆçº§åˆ†çº§

#### **P0 - æ ¸å¿ƒäº¤äº’åŠŸèƒ½** (é¢„è®¡ 1-2 å¤©)
**ç›®æ ‡**ï¼šè®©ç”¨æˆ·èƒ½ä»å¥—ä»¶ä¸‹é’»åˆ°ç”¨ä¾‹ï¼Œå®ç°åŸºæœ¬çš„â€œå¯äº¤äº’æŠ¥å‘Šâ€

##### ä»»åŠ¡ 1ï¼šç”¨ä¾‹åˆ—è¡¨ä¸‹é’» â­â­â­
**ä¸ºä»€ä¹ˆä¼˜å…ˆ**ï¼šè¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œç”¨æˆ·éœ€è¦çœ‹åˆ°å¤±è´¥çš„å…·ä½“ç”¨ä¾‹

**åç«¯ API**ï¼š
```
GET /api/test-report/executions/{execution_id}/cases/
Query Params:
  - parent_suite: æŒ‰çˆ¶å¥—ä»¶ç­›é€‰ï¼ˆå¯é€‰ï¼‰
  - status: æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå¯é€‰ï¼‰

Response:
{
  "code": 200,
  "data": {
    "execution_id": 123,
    "total_count": 50,
    "cases": [
      {
        "id": 1,
        "name": "test_login_success",
        "status": "passed",
        "duration_in_ms": 1200.0,
        "test_class": "TestLogin",
        "test_method": "test_login_success"
      }
    ]
  }
}
```

**å®ç°æ­¥éª¤**ï¼š
1. åœ¨å¥—ä»¶è¡¨æ ¼æ·»åŠ â€œæ“ä½œâ€åˆ—ï¼Œå¢åŠ â€œæŸ¥çœ‹ç”¨ä¾‹â€æŒ‰é’®
2. ç‚¹å‡»æŒ‰é’®è°ƒç”¨ APIï¼š`GET /api/test-report/executions/{execution_id}/cases/?parent_suite={suite_name}`
3. åœ¨å³ä¾§æˆ–ä¸‹æ–¹å±•ç¤ºç”¨ä¾‹åˆ—è¡¨ï¼ˆç®€å•è¡¨æ ¼å³å¯ï¼‰
4. ç”¨ä¾‹åˆ—è¡¨æ˜¾ç¤ºï¼šåç§°ã€çŠ¶æ€ã€è€—æ—¶ã€æµ‹è¯•ç±»/æ–¹æ³•

**é¢„æœŸæ•ˆæœ**ï¼š
```
å¥—ä»¶åˆ—è¡¨                    ç”¨ä¾‹åˆ—è¡¨
LoginSuite [æŸ¥çœ‹ç”¨ä¾‹] â”€â”€â”€â”€â†’    âœ“ test_login_success  1.2s
                           âœ— test_login_fail     0.8s
                           âœ“ test_logout         0.5s
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- ä½¿ç”¨ `el-table` å±•ç¤ºç”¨ä¾‹åˆ—è¡¨
- çŠ¶æ€ç”¨é¢œè‰²åŒºåˆ†ï¼špassed(ç»¿)ã€failed(çº¢)ã€skipped(é»„)
- å¤±è´¥ç”¨ä¾‹ä¼˜å…ˆæ˜¾ç¤ºï¼ˆåç«¯å·²æ’åºï¼‰

---

##### ä»»åŠ¡ 2ï¼šç”¨ä¾‹è¯¦æƒ…æŠ½å±‰ â­â­
**ä¸ºä»€ä¹ˆä¼˜å…ˆ**ï¼šç”¨æˆ·éœ€è¦çœ‹åˆ°å¤±è´¥ç”¨ä¾‹çš„è¯¦ç»†ä¿¡æ¯ï¼ˆç±»åã€æ–¹æ³•åã€è€—æ—¶ï¼‰

**æ•°æ®æ¥æº**ï¼š`TestSuiteDetail` æ¨¡å‹å­—æ®µ

**å®ç°æ­¥éª¤**ï¼š
1. åœ¨ç”¨ä¾‹åˆ—è¡¨æ·»åŠ ç‚¹å‡»äº‹ä»¶
2. ä½¿ç”¨ `el-drawer` å±•ç¤ºç”¨ä¾‹è¯¦æƒ…
3. æ˜¾ç¤ºå­—æ®µï¼š
   - åŸºæœ¬ä¿¡æ¯ï¼š`name`, `status`, `duration_in_ms`
   - æµ‹è¯•å®šä½ï¼š`test_class`, `test_method`
   - æ—¶é—´ä¿¡æ¯ï¼š`start_time`, `stop_time`
   - å±‚çº§è·¯å¾„ï¼š`parent_suite` â†’ `suite` â†’ `sub_suite`
   - æè¿°ï¼š`description`

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  test_login_fail                âœ—   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åŸºæœ¬ä¿¡æ¯                            â”‚
â”‚  â€¢ æµ‹è¯•ç±»: TestLogin                â”‚
â”‚  â€¢ æµ‹è¯•æ–¹æ³•: test_login_fail        â”‚
â”‚  â€¢ çŠ¶æ€: Failed                     â”‚
â”‚  â€¢ è€—æ—¶: 0.8s                       â”‚
â”‚  â€¢ å¼€å§‹: 10:05:23                   â”‚
â”‚  â€¢ ç»“æŸ: 10:05:24                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æè¿°                                â”‚
â”‚  éªŒè¯ä½¿ç”¨é”™è¯¯å¯†ç ç™»å½•æ—¶ç³»ç»Ÿçš„å“åº”    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å±‚çº§è·¯å¾„                            â”‚
â”‚  LoginSuite â†’ UserAuth â†’ LoginTests â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æŠ€æœ¯è¦ç‚¹**ï¼š
- ä½¿ç”¨ `el-drawer` ç»„ä»¶ï¼Œ`direction="rtl"`
- çŠ¶æ€ç”¨ `el-tag` æ˜¾ç¤ºï¼Œé¢œè‰²åŒºåˆ†
- è€—æ—¶è½¬æ¢ï¼š`duration_in_ms / 1000` æ˜¾ç¤ºä¸ºç§’

---

#### **P1 - è§†è§‰å¢å¼º** (é¢„è®¡ 1 å¤©)
**ç›®æ ‡**ï¼šé€šè¿‡å›¾è¡¨è®©ç”¨æˆ·å¿«é€Ÿäº†è§£æ•´ä½“æƒ…å†µ

##### ä»»åŠ¡ 3ï¼šåŸºç¡€å›¾è¡¨ â­â­
**ä¸ºä»€ä¹ˆæ¬¡ä¼˜å…ˆ**ï¼šå›¾è¡¨èƒ½æå‡ç”¨æˆ·ä½“éªŒï¼Œä½†ä¸å½±å“æ ¸å¿ƒåŠŸèƒ½

**æ•°æ®æ¥æº**ï¼š
- çŠ¶æ€åˆ†å¸ƒï¼š`TestExecution` çš„ `passed_cases`, `failed_cases`, `skipped_cases`, `broken_cases`
- å¥—ä»¶é€šè¿‡ç‡ï¼š`TestSuite` çš„ `suite_name`, `pass_rate`

**å®ç°æ­¥éª¤**ï¼š
1. å®‰è£… EChartsï¼š`npm install echarts`
2. æ·»åŠ æ–° Tabï¼šâ€œå›¾è¡¨â€
3. å®ç° 2 ä¸ªå›¾è¡¨ï¼š
   - **çŠ¶æ€åˆ†å¸ƒé¥¼å›¾**ï¼šæ˜¾ç¤º passed/failed/skipped/broken çš„æ¯”ä¾‹
   - **å¥—ä»¶é€šè¿‡ç‡æŸ±çŠ¶å›¾**ï¼šæ¯ä¸ªå¥—ä»¶çš„é€šè¿‡ç‡

**ç¤ºä¾‹ä»£ç **ï¼š
```javascript
import * as echarts from 'echarts'

const pieChart = echarts.init(document.getElementById('statusPie'))
pieChart.setOption({
  series: [{
    type: 'pie',
    data: [
      { value: execution.passed_cases, name: 'é€šè¿‡' },
      { value: execution.failed_cases, name: 'å¤±è´¥' },
      { value: execution.skipped_cases, name: 'è·³è¿‡' },
      { value: execution.broken_cases, name: 'ä¸­æ–­' }
    ]
  }]
})
```

---

#### **P2 - é«˜çº§äº¤äº’** (é¢„è®¡ 2-3 å¤©)
**ç›®æ ‡**ï¼šæå‡ç”¨æˆ·ä½“éªŒï¼Œä½†éå¿…éœ€

##### ä»»åŠ¡ 4ï¼šå¥—ä»¶æ ‘å½¢ç»“æ„ â­â­â­
**ä¸ºä»€ä¹ˆå»¶å**ï¼šå®ç°å¤æ‚åº¦é«˜ï¼Œä¸”å½“å‰å¹³é“ºè¡¨æ ¼ + ä¸‹é’»å·²èƒ½æ»¡è¶³åŸºæœ¬éœ€æ±‚

**å®ç°æ­¥éª¤**ï¼š
1. ä½¿ç”¨ `el-tree` ç»„ä»¶
2. æ ¹æ® `parent_suite` â†’ `suite` â†’ `sub_suite` æ„å»ºæ ‘å½¢æ•°æ®
3. ç‚¹å‡»èŠ‚ç‚¹å±•å¼€/æŠ˜å 
4. æ¯ä¸ªèŠ‚ç‚¹æ˜¾ç¤ºï¼šåç§°ã€ç”¨ä¾‹æ•°ã€é€šè¿‡ç‡

**æ•°æ®è½¬æ¢é€»è¾‘**ï¼š
```javascript
function buildTree(suites, cases) {
  const tree = []
  const parentMap = {}
  
  // æ ¹æ® parent_suite åˆ†ç»„
  cases.forEach(c => {
    if (!parentMap[c.parent_suite]) {
      parentMap[c.parent_suite] = {
        label: c.parent_suite,
        children: []
      }
    }
    parentMap[c.parent_suite].children.push({
      label: c.name,
      data: c
    })
  })
  
  return Object.values(parentMap)
}
```

---

##### ä»»åŠ¡ 5ï¼šçŠ¶æ€ç­›é€‰å™¨ â­
**ä¸ºä»€ä¹ˆå»¶å**ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ä¸‹é’»æ‰¾åˆ°å¤±è´¥ç”¨ä¾‹ï¼Œç­›é€‰å™¨æ˜¯é”¦ä¸Šæ·»èŠ±

**å®ç°æ­¥éª¤**ï¼š
1. æ·»åŠ ç­›é€‰å™¨ç»„ä»¶ï¼ˆ`el-select`ï¼‰
2. è°ƒç”¨ API æ—¶ä¼ é€’ `?status=failed` å‚æ•°
3. æ”¯æŒå¤šé€‰ï¼š`?status=failed&status=broken`

**UI è®¾è®¡**ï¼š
```vue
<el-select v-model="statusFilter" multiple placeholder="ç­›é€‰çŠ¶æ€">
  <el-option label="é€šè¿‡" value="passed" />
  <el-option label="å¤±è´¥" value="failed" />
  <el-option label="è·³è¿‡" value="skipped" />
  <el-option label="ä¸­æ–­" value="broken" />
</el-select>
```

---

### 6.3 å®ç°è·¯çº¿å›¾

```mermaid
graph LR
    A[å½“å‰çŠ¶æ€] --> B[P0: ç”¨ä¾‹ä¸‹é’»]
    B --> C[P0: è¯¦æƒ…æŠ½å±‰]
    C --> D{ç”¨æˆ·éªŒè¯}
    D -->|OK| E[P1: åŸºç¡€å›¾è¡¨]
    E --> F[P2: æ ‘å½¢ç»“æ„]
    F --> G[P2: ç­›é€‰å™¨]
    D -->|éœ€æ±‚å˜åŒ–| H[Phase 2: æ¨¡å‹æ‰©å±•]
```

---

### 6.4 æ€»ç»“

#### ç«‹å³å¼€å§‹ï¼ˆæœ¬å‘¨ï¼‰
1. âœ… **ç”¨ä¾‹åˆ—è¡¨ä¸‹é’»** - æœ€æ ¸å¿ƒåŠŸèƒ½
2. âœ… **ç”¨ä¾‹è¯¦æƒ…æŠ½å±‰** - å¿…éœ€çš„è°ƒè¯•ä¿¡æ¯

#### ä¸‹å‘¨å¼€å§‹
3. â³ **åŸºç¡€å›¾è¡¨** - è§†è§‰å¢å¼º

#### å¯é€‰ï¼ˆæ ¹æ®ç”¨æˆ·åé¦ˆï¼‰
4. â¸ï¸ **å¥—ä»¶æ ‘å½¢ç»“æ„** - é«˜çº§äº¤äº’
5. â¸ï¸ **çŠ¶æ€ç­›é€‰å™¨** - ä¾¿åˆ©åŠŸèƒ½

#### å»ºè®®
**å…ˆå®ç° P0 çš„ 2 ä¸ªä»»åŠ¡**ï¼ŒéªŒè¯ç”¨æˆ·ä½“éªŒåå†å†³å®šæ˜¯å¦ç»§ç»­ P1/P2ã€‚å¦‚æœç”¨æˆ·åé¦ˆéœ€è¦æ›´æ·±å…¥çš„è°ƒè¯•ä¿¡æ¯ï¼ˆå¦‚é”™è¯¯å †æ ˆã€é™„ä»¶ï¼‰ï¼Œå†è€ƒè™‘å¯åŠ¨ Phase 2 çš„æ¨¡å‹æ‰©å±•ã€‚
